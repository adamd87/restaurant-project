<div class="container">
  <form>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name="name"
             [(ngModel)]="newProduct.name"
             [class.is-invalid]="submitted && validationErrors.name"
             [class.is-valid]="submitted && !validationErrors.name">
      <div class="invalid-feedback" *ngFor="let error of validationErrors.name">
        {{error}}
      </div>
      <button type="button" class="btn btn-outline-primary" (click)="loadOneProduct(newProduct.name)">Find by</button>
    </div>
    <div class="form-group">
      <label for="weight">Weight</label>
      <input type="text" class="form-control is-valid" id="weight" name="weight"
             [(ngModel)]="newProduct.weight"
             [class.is-invalid]="submitted && validationErrors.weight"
             [class.is-valid]="submitted && !validationErrors.weight">
      <button type="button" class="btn btn-outline-primary" (click)="updateProduct(newProduct.name)">Increase by</button>
      <div class="invalid-feedback" *ngFor="let error of validationErrors.weight">
        {{error}}
      </div>
    </div>
    <div class="form-group">
      <label for="name">Cost</label>
      <input type="text" class="form-control is-valid" id="cost" name="cost"
             [(ngModel)]="newProduct.cost"
             [class.is-invalid]="submitted && validationErrors.cost"
             [class.is-valid]="submitted && !validationErrors.cost">
      <button type="button" class="btn btn-outline-primary" (click)="updateProduct(newProduct.name)">Change value</button>
      <div class="invalid-feedback" *ngFor="let error of validationErrors.cost">
        {{error}}
      </div>
    </div>
    <button class="btn btn-group">
      <input type="submit" class="btn btn-outline-primary" value="Add new" (click)="createProduct()">
    </button>
    <button type="button" class="btn btn-outline-primary" (click)="loadProducts()">Get all</button>
    <table class="table">
      <thead>
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Stock</th>
        <th>Cost/kg</th>
        <th>Delete</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let product of products">
        <td>{{product.id}}</td>
        <td>{{product.name}}</td>
        <td>{{product.weight}}</td>
        <td>{{product.cost}}</td>
        <td><button type="button" class="btn btn-outline-primary" (click)="delete(product.id)">X</button></td>
      </tr>
      </tbody>
    </table>
  </form>
</div>
